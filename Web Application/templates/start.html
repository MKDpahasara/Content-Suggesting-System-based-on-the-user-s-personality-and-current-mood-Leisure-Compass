<!doctype html>
<html class="no-js" lang="en">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Rufina:400,700" rel="stylesheet">

    <!-- title of site -->
    <title>Get Started</title>

    <!-- For favicon png -->
    <link rel="shortcut icon" type="image/icon" href="static/assets/logo/favicon.png" />

    <!--font-awesome.min.css-->
    <link rel="stylesheet" href="static/assets/css/font-awesome.min.css">

    <!--linear icon css-->
    <link rel="stylesheet" href="static/assets/css/linearicons.css">

    <!--flaticon.css-->
    <link rel="stylesheet" href="static/assets/css/flaticon.css">

    <!--animate.css-->
    <link rel="stylesheet" href="static/assets/css/animate.css">

    <!--owl.carousel.css-->
    <link rel="stylesheet" href="static/assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="static/assets/css/owl.theme.default.min.css">

    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="static/assets/css/bootstrap.min.css">

    <!-- bootsnav -->
    <link rel="stylesheet" href="static/assets/css/bootsnav.css">

    <!--style.css-->
    <link rel="stylesheet" href="static/assets/css/style.css">

    <!--responsive.css-->
    <link rel="stylesheet" href="static/assets/css/responsive.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        #container-styles {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        #questions-container,
        #video-container {
            width: calc(50% - 20px);
            padding: 20px;
            box-sizing: border-box;
        }

        #capture-button {
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            #questions-container,
            #video-container {
                width: 100%;
            }
        }
    </style>

	<body>
		<!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->
	
		<!--welcome-hero start -->
		<section id="Movies" class="welcome-hero">

			<!-- top-area Start -->
			<div class="top-area">
				<div class="header-area">
					<!-- Start Navigation -->
				    <nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy"  data-minus-value-desktop="70" data-minus-value-mobile="55" data-speed="1000">

				        <div class="container">

				            <!-- Start Header Navigation -->
				            <div class="navbar-header">
				                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
				                    <i class="fa fa-bars"></i>
				                </button>
				                <a class="navbar-brand" href="{{ url_for('index') }}">
									<img src="static/assets/images/welcome-hero/3.png" alt="Leisure Compass Logo" class="logo">Leisure Compass<span></span></a>

				            </div><!--/.navbar-header-->
				            <!-- End Header Navigation -->

				            <!-- Collect the nav links, forms, and other content for toggling -->
							<div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
				                <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
				                    <li class=" scroll active"><a href="{{ url_for('index') }}">home</a></li>
				                    <li class="scroll"><a href="#service">Explore Yourself</a></li>
                                    <li class="scroll"><a href="#privacy-policy">Privacy Policy</a></li>
				                    <li class="scroll"><a href="#contact">contact us</a></li>
				                
									<!-- Add profile dropdown button -->
									<li class="dropdown">
										<a href="#" class="dropdown-toggle" data-toggle="dropdown">
											{% if current_user.is_authenticated %}
												<img src="{{ current_user.profile_pic }}" alt="Profile Picture" class="profile-pic" style="width: 30px; height: 30px; border-radius: 50%;"> {{ current_user.name }}
											{% else %}
												<i class="fa fa-user"></i> Profile
											{% endif %}
										</a>
										<ul class="dropdown-menu">
											{% if current_user.is_authenticated %}
												<li><a href="{{ url_for('logout') }}">Logout</a></li>
											{% else %}
												<li><a href="{{ url_for('login') }}">Login</a></li>
											{% endif %}
										</ul>
									</li>
                                
                                </ul><!--/.nav -->
				            </div><!-- /.navbar-collapse -->
				            </div><!-- /.navbar-collapse -->
				        </div><!--/.container-->
				    </nav><!--/nav-->
				    <!-- End Navigation -->
				</div><!--/.header-area-->
			    <div class="clearfix"></div>

			</div><!-- /.top-area-->
			<!-- top-area End -->
		</section>
		
        <form id="main-form" action="/recommend" method="post">
            <section id="service" class="service">
                <div id="container-styles" class="container-styles">
                {% if current_user.personality_label %}
    
                <div id="questions-container" class="questions-container text-center" style="text-align: center; display: flex; align-items: center; margin-top: -150px;">
                    <h2>You have already answered your personality questionaire. Your personality is: <span style="font-size: 22px; color: #fff; font-weight: 500; text-transform: capitalize; color: yellow;">{{ current_user.personality_label }}</span></h2>
                </div>
                {% endif %}
                
                <!-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
                <div id="video-container" class="video-container">
                    <div class="header-container">
                        <h1>Get User Mood</h1>
                        <br>
                        <div style="border: 2px solid yellow; padding: 20px; border-radius: 20px; margin-bottom: 20px;">
                            <p style="font-size: 16px; color:yellow;">Before proceeding, please allow access to your camera. This will enable us to capture your current mood.</p>
                        </div>                
                    </div>
               
                    <br><br>
                   
                    <form action="/get_mood" method="post">
                        <!-- Add a video box for capturing the mood -->
                        <div style="width: 640px; height: 480px; border: 2px solid rgb(254, 254, 254); border-radius: 30px; margin: 0 auto;">
                            <video id="video" width="100%" height="100%" autoplay></video>
                        </div>
                        <br>
                        <div class="button-container" style="text-align: center;">
                        <button type="button" class="custom-button" onclick="captureMood()">Capture Mood</button>
                        <br><br>
                        <!-- Add hidden input field to store captured mood -->
                        <input type="hidden" id="capturedMood" name="mood_input">
                        <!-- Button to submit the form and get recommendations -->
                        <button type="submit" class="custom-button" id="getrecommendations" disabled>Get Recommendations</button>
                    </div>
                    </form>
                    
                
                </div>
    
                {% if not current_user.personality_label %}
                <div id="questions-container" class="questions-container">
                    <div class="header-container">
                        <h1>Personality Questions</h1>
                    </div>
        
                    <br>
                    <table class="question-table">
                        <tr>
                            <td></td>
                            <td>Strongly Agree</td>
                            <td>Agree</td>
                            <td>Neutral</td>
                            <td>Disagree</td>
                            <td>Strongly Disagree</td>
                        </tr>
                        {% for code, question in questions.items() %}
                            <tr>
                                <td>{{ question }}:</td>
                                <td><input type="radio" id="{{ code }}_strongly_agree" name="{{ code }}" value="5"></td>
                                <td><input type="radio" id="{{ code }}_agree" name="{{ code }}" value="4"></td>
                                <td><input type="radio" id="{{ code }}_neutral" name="{{ code }}" value="3" checked></td>
                                <td><input type="radio" id="{{ code }}_disagree" name="{{ code }}" value="2"></td>
                                <td><input type="radio" id="{{ code }}_strongly_disagree" name="{{ code }}" value="1"></td>
                            </tr>
                        {% endfor %}
                    </table>
            </div>
            {% endif %}
      
    
            
    
            </div>
            </section><!--/.service-->
            <!--service end-->
            </form>
        <section id="privacy-policy" class="service">
            <div class="header-container">
                <h1>Privacy Policy</h1>
            </div>
            <br><br>
            <div class="container">
                <div class="privacy-policy-content">
                    <p>Your privacy is of utmost importance to us. This Privacy Policy outlines the types of personal information we receive and collect when you use our website and how we ensure the security of your data. We want to assure you that we never sell your personal information to third parties.</p>
            
                    <h3>✓ Collection of Personal Information</h3>
                    <p>We collect personality and current mood data solely for the purpose of enhancing our model and providing personalized content recommendations. However, it's essential to note that we do not retain any of this data. This information is utilized for analytical purposes to enhance the content and performance of our website.</p>
                    
                    <h3>✓ Use of Cookies</h3>
                    <p>We may utilize cookies to enrich your browsing experience on our website. Cookies are small files that a site or its service provider transfers to your computer's hard drive through your web browser (if you allow) to enable the site's or service provider's systems to recognize your browser and capture and remember specific information.</p>
                    
                    <h3>✓ Third-Party Links</h3>
                    <p>Our website may include links to third-party websites. These third-party sites have their own separate and independent privacy policies. Therefore, we do not assume any responsibility or liability for the content and activities of these linked sites.</p>
                    
                    <h3>✓ Changes to This Privacy Policy</h3>
                    <p>We reserve the right to update or modify our Privacy Policy at any time. Any changes will be promptly communicated on this page, and the effective date will be updated accordingly.</p>
                    
                    <h3>✓ Contact Us</h3>
                    <p>If you have any inquiries or concerns regarding this Privacy Policy, please don't hesitate to contact us.</p>
                </div>
            </div><!--/.container-->
        </section>
        


        <footer id="contact"  class="contact">
			<div class="container">
				<div class="footer-top">
					<div class="row">
						<div class="col-md-3 col-sm-6">
							<div class="single-footer-widget">
								<div class="footer-logo">
									<img src="static/assets/images/welcome-hero/3.png" alt="Leisure Compass Logo" class="logo">
									<a href="templates/index.html">Leisure Compass</a>
								</div>
								<p>
									Content suggesting system based on user's current mood and personality
								</p>
								<div class="footer-contact">
									<a href="mailto:avishkabs@sltc.ac.lk"><p>avishkabs@sltc.ac.lk</p></a><br>
									<a href="mailto:damindup@sltc.ac.lk"><p>damindup@sltc.ac.lk</p></a>
								</div>
							</div>
						</div>
						<div class="col-md-2 col-sm-6">
							<div class="single-footer-widget">
							</div>
						</div>
						<div class="col-md-3 col-xs-12">
							<div class="single-footer-widget">
							<h2>Powered by:</h2>
							<p><img src="static/assets/images/footer/1280px-Tmdb.new.logo.svg.png" alt="TMDB Logo" style="width:150px;height:100px;"></p>
							<p><img src="static/assets/images/footer/PikPng.com_run-dmc-png_5240809.png" alt="AWS Logo"style="width:170px;height:100px;"></p>
						</div>
						</div>
						<div class="col-md-offset-1 col-md-3 col-sm-6">
							<div class="single-footer-widget">
								<h2>Final Year Project</h2>
								<img src="static/assets/images/footer/SLTC_Research_University_Logo.png" alt="Leisure Compass Logo" >
								SLTC Research University<br>
								Ingiriya Road, Padukka<br>
								Phone: 0112 100 500<br>
								<a href="https://www.sltc.ac.lk"><p>www.sltc.ac.lk </p></a>
								
								


							</div>
						</div>
					</div>
				</div>
				<div class="footer-copyright">
					<div class="row">
						<div class="col-sm-6">
							<p>
								&copy; 2024 Leisure Compass. All rights reserved..
							</p><!--/p-->
						</div>
						<div class="col-sm-6">
							&nbsp; Avishka Bandarathilaka &nbsp;
							<a href="https://www.linkedin.com/in/as-bandarathilaka/" class="social-icon"><i class="fa fa-linkedin"></i></a>
							<a href="https://github.com/AvishkaBS" class="social-icon"><i class="fa fa-github"></i></a>
							&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp; Damindu Pahasara &nbsp;
							<a href="https://www.linkedin.com/in/mkdpahasara/" class="social-icon"><i class="fa fa-linkedin"></i></a>
							<a href="https://github.com/MKDpahasara" class="social-icon"><i class="fa fa-github"></i></a>
						</div>
					</div>
				</div><!--/.footer-copyright-->
			</div><!--/.container-->

			<div id="scroll-Top">
				<div class="return-to-top">
					<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
				</div>
				
			</div><!--/.scroll-Top-->
			
        </footer><!--/.contact-->
		<!--contact end-->

		
		<!-- Include all js compiled plugins (below), or include individual files as needed -->

		<script src="static/assets/js/jquery.js"></script>
        
        <!--modernizr.min.js-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
		
		<!--bootstrap.min.js-->
        <script src="static/assets/js/bootstrap.min.js"></script>
		
		<!-- bootsnav js -->
		<script src="static/assets/js/bootsnav.js"></script>

		<!--owl.carousel.js-->
        <script src="static/assets/js/owl.carousel.min.js"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

        <!--Custom JS-->
        <script src="static/assets/js/custom.js"></script>


        <script>    
            // JavaScript function to capture mood from the video
            function captureMood() {
                // Get the video element
                const video = document.getElementById('video');
    
                // Use getUserMedia to access the camera
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(stream => {
                        // Assign the camera stream to the video element
                        video.srcObject = stream;
    
                        // Play the video
                        video.play();
    
                        video.style.borderRadius = '30px';
    
                        // Capture a frame after 3 seconds (adjust the delay as needed)
                        setTimeout(() => {
                            captureFrame(stream);
                        }, 3000);
                    })
                    .catch(error => {
                        console.error('Error accessing camera:', error);
                    });
            }
    
            // JavaScript function to capture a frame from the video
            function captureFrame(stream) {
                // Get the video element
                const video = document.getElementById('video');
    
                // Create a canvas element
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
    
                // Draw the current frame onto the canvas
                const context = canvas.getContext('2d');
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
    
                // Stop the video stream
                stream.getTracks().forEach(track => track.stop());
    
                // Convert the canvas content to a data URL
                const dataURL = canvas.toDataURL('image/jpeg');
    
                // Set the captured mood value to the hidden input field
                document.getElementById('capturedMood').value = dataURL;
    
                // Enable the "Get Recommendations" button
                getrecommendations.disabled = false;
    
                // Stop the video playback
                video.pause();
                video.srcObject = null;
            }
        </script>

    </body>
	
</html>